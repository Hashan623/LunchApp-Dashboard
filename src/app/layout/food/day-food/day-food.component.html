<div [@routerTransition]>
    <app-page-header [heading]="'Day Food'" [icon]="'fas fa-sitemap'"></app-page-header>
    <div class="row">
        <div class="col-md-8">
            <div style="margin: auto; max-width: 1500px; margin-bottom: 400px;">
                <form #f="ngForm" (ngSubmit)="save(f.value)" style="width: 750px;">

                    <!-- <div class="form-row">
                        <div class="form-group col-md-6">
                            <label for="name">Name</label>
                            <input #name="ngModel" [(ngModel)]="dayfood.name" name="name" id="name" class="form-control" required>
                            <div class="alert alert-danger" *ngIf="name.touched && name.invalid">
                                <div *ngIf="name.errors.required">Name is required!</div>
                            </div>
                        </div>
                    </div> -->


                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <label for="outlet">Outlet</label>
                            <select #outlet="ngModel" [(ngModel)]="dayfood.outlet" name="outlet" id="outlet" class="form-control" required>
                                <option *ngFor="let o of outlets$ | async" [value]="o.UUID">
                                    {{ o.name }}
                                </option>
                            </select>
                            <div class="alert alert-danger" *ngIf="outlet.touched && outlet.invalid">
                                Outlet is required.
                            </div>
                        </div>
                    </div>

                    <!-- <div class="form-group col-md-6">
                        <label for="foodType">Food Type</label>
                        <select #foodType="ngModel" [(ngModel)]="dayfood.foodType" name="foodType" id="foodType" class="form-control" required>
                            <option *ngFor="let f of foodtypes$ | async" [value]="f.UUID">
                                {{ f.name }}
                            </option>
                        </select>
                        <div class="alert alert-danger" *ngIf="foodType.touched && foodType.invalid">
                            Food Type is required.
                        </div>
                    </div> -->

                    <div>
                        <label for="name">Select the Foods for this day</label>
                        <angular2-multiselect [data]="observables" [(ngModel)]="dayfood.food" name="food" [settings]="dropdownSettings" (onSelect)="onItemSelect($event)"
                            (onDeSelect)="OnItemDeSelect($event)" (onSelectAll)="onSelectAll($event)" (onDeSelectAll)="onDeSelectAll($event)"></angular2-multiselect>
                    </div>
                    <br>

                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <label for="curryCount">Curry Count</label>
                            <input #curryCount="ngModel" [(ngModel)]="dayfood.curryCount" name="curryCount" id="curryCount" type="number" class="form-control"
                                required>
                            <div class="alert alert-danger" *ngIf="curryCount.touched && curryCount.invalid">
                                <div *ngIf="curryCount.errors.required">Curry Count is required!</div>
                            </div>
                        </div>
                    </div>


                    <div class="form-group col-md-6">
                        <label for="date">Date</label>
                        <input #date="ngModel" [(ngModel)]="dayfood.date" name="date" id="date" type="date" class="form-control" required>
                        <div class="alert alert-danger" *ngIf="date.touched && date.invalid">
                            <div *ngIf="date.errors.required">Date is required!</div>
                            <div *ngIf="date.errors.date">Date is not valid!</div>
                        </div>
                    </div>

                    <br>
                    <button class="btn btn-outline-primary form-group col-md-3" [disabled]="!f.valid">Submit</button>
                </form>
            </div>
        </div>
    </div>
